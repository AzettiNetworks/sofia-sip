==============================================
Release notes for current version of Sofia-SIP
==============================================

Changes since last release
--------------------------

<changes since last written in freshmeat.net "Changes:" style;
 and in less than 10 lines />


API/ABI changes and versioning
------------------------------

<see previous release notes at
 http://sofia-sip.sourceforge.net/relnotes/ for examples ;
 - should include all changes to public headers, and 
   other important information to developers; 
 - and should be updated _continuously_! />

- Revised sresolv interface and added:
    sofia-resolv/sres.h
    sofia-resolv/sres_async.h
    sofia-resolv/sres_cache.h
    sofia-resolv/sres_record.h
    sip-dig.c example program
  - Removed sres_resolver_add_mutex()
  - Renamed cname_record to cn_record in sres_cname_record_t
  - Changed code of SRES_TIMEOUT_ERR and SRES_RECORD_ERR 
    (they were overlapping with signature errors)
  - Added sres_search(): sres_query() does not query subdomains anymore
  - Added sres_search_cached_answers() and sres_blocking_search()

- Added string manipulation functions:
  - su_strcat_all()
  - su_strlst_create_with(), su_strlst_vcreate_with()
  - su_strlst_create_with_dup(), su_strlst_vcreate_with_dup()
- Added sip utility functions:
  - sip_contact_string_from_via(), sip_transport_has_tls()

- tport, nta: initial support for dynamic transport additions / updates for
  NAT traversal.
  - Added <sofia-sip/tport_plugins.h>

- Major changes in stun:
  - Added the stun_dns_lookup.*() interface to sofia-sip/stun.h.

  - stun_handle_() functions are replaced by stun_() functions in 
    <sofia-sip/stun.h>.

  - Discovery context pointer and callback added to stun_bind()

- Removed old rtsp-related nua functions and events not used anymore.

- Removed nutag_sip_parser (using ntatag_mclass instead)

- Now returning 9XX errors from inside NUA

- Added --enable-sctp to configure; fixed some SCTP problems,
  (but not all)

Contributors to this release
----------------------------

<list of people who contributed to _this_ release
 - update as people's patches are added, or when
   you commit stuff
 - name of the contributor should be enough
/> 


Bugs fixed in this release
--------------------------

< notable bugs fixed in this release
 - check the sf.net bug tracker; see closed bugs,
   sorted by closing date
 - other bugs as fixed in CVS/darcs
/>

- Fixed some locking problems in sresolv, reported by Thomas Rosenblatt
- Fixed nua_handle_t leaks in various cases, reported by Colin Whittaker
- Fixed #1468407 nua_unregister() crashing when called without preceding
  register (and other crash-prone problems with request message in nua)
- Fixed #1473936 - resolving SIP URIs required active IP4 transports in nta
- Fixed #1472683 - ACK did not have rport, even if INVITE did
- Fixed double branch problem in CANCEL
- Fixed problem with client certificate handling in tport module
- Fixed problem creating error record in sresolv module
- Fixed handling route in re-SUBSCRIBE
- Fixed handling headers in re-PUBLISH. Fixed error reporting in the case
  ESC returns 200 OK response to PUBLISH without Expires header.
- Problem with auth-int and nua is fixed: now the correct MD5 sum of 
  message body is calculated.
- Fixed #1465023 (NUTAG_CERTIFICATE_DIR() handling problem).
